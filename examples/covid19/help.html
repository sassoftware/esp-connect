<!DOCTYPE html>

<html>
<head>
<link rel="stylesheet" href="../../style/connect.css" />
</head>

<body class="help">
The Covid19 ESP example uses Javascript event sources to retrieve data from external sources and inject events into the ESP model.
<br/><br/>
The example displays a full map of the United States in the top left corner of the page. The states are colored by the total number
of Covid19 deaths for that state. This data is retrieved with the following REST request:
<br/><br/>
<a class="indent" target="blank" href="https://services1.arcgis.com/0MSEUqKaxRlEPj5g/ArcGIS/rest/services/ncov_cases_US/FeatureServer/0/query?where=1%3D1&objectIds=&time=&geometry=&geometryType=esriGeometryEnvelope&inSR=&spatialRel=esriSpatialRelIntersects&resultType=none&distance=0.0&units=esriSRUnit_Meter&returnGeodetic=false&outFields=*&returnGeometry=true&featureEncoding=esriDefault&multipatchOption=xyFootprint&maxAllowableOffset=&geometryPrecision=&outSR=&datumTransformation=&applyVCSProjection=false&returnIdsOnly=false&returnUniqueIdsOnly=false&returnCountOnly=false&returnExtentOnly=false&returnQueryGeometry=false&returnDistinctValues=false&cacheHint=false&orderByFields=&groupByFieldsForStatistics=&outStatistics=&having=&resultOffset=&resultRecordCount=&returnZ=false&returnM=false&returnExceededLimitFeatures=true&quantizationParameters=&sqlFormat=none&f=json&token=">Covid19 Data</a>
<br/><br/>
This is county level data and is published into the ESP model. The data is aggregated into the state level where it is displayed in the USA map.
<br/><br/>
When you click on a state, the county data for that state is displayed in a map at the top right of the page. You can mouse over each county to get
detailed Covid19 information for that county.
<br/><br/>
In addition, I go to another REST API to pull historical data for the selected state:
<br/><br/>
<a class="indent" href="https://covidtracking.com/api/v1/states/nc/daily.json" target="blank">https://covidtracking.com/api/v1/states/nc/daily.json</a>
<br/><br/>
where <i>nc</i> would be the selected state. The historical data is displayed in several time series charts at the bottom
of the page.
<br/><br/>
In order to properly display individual states in the map, I need to know the lat/lon coordinates of the center of the state. Since this is not 
provided in the Covid19 data, I need to get it from another source:
<br/><br/>
<a class="indent" href="https://www.latlong.net/category/states-236-14.html" target="blank">https://www.latlong.net/category/states-236-14.html</a>
<br/><br/>
Using event sources I can coordinate all of these disparate sources of data into a single ESP model which displays the Covid19 information.
<br/><br/>
</body>

</html>

<!DOCTYPE html>
<html>
<head>

<title>ESP Connect  Examples</title>

<link rel="stylesheet" href="../style/connect.css" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../js/ui/main"></script>

<script type="text/javascript">

var _server = null;
var _k8s = null;
var _api = null;

function
esp(api)
{
    _api = api;

    _api.handleLayout();

    if (_api.hasParm("k8s"))
    {
        _k8s = _api.getParm("k8s");
    }

    if (_api.hasParm("server"))
    {
        _server = _api.getParm("server");
        connect(_server);
    }
    else
    {
        _api.showConnectDialog({connect:connect});
    }
}

function
connect(server)
{
    _server = server;
    _api.getDialogs().clearModals();
    document.getElementById("bannerTitle").innerHTML = "ESP Connect Examples (" + _server + ")";
    _api.size();
}

function
go(example)
{
    var s = "";

    if (_k8s != null)
    {
        s += "?";
        s += "k8s=" + _k8s;
    }

    if (_server != null)
    {
        s += ((s.length > 0) ? "&" : "?");
        s += "server=" + _server;
    }

    var parms = _api.getParms();

    for (var x in parms)
    {
        if (x == "k8s" || x == "server")
        {
            continue;
        }

        s += ((s.length > 0) ? "&" : "?");
        s += (x + "=" + parms[x]);
    }

    var url = example;
    url += s;

    window.open(url);
}

</script>

<style type="text/css">
a
{
    text-decoration:none;
    color:black;
}

ul.examples a
{
    font-style:italic;
    text-decoration:underline;
}

</style>

</head>

<body>

    <div id="banner">
        <table style="width:100%" cellspacing="0" cellpadding="0">
            <tr>
                <td id="bannerTitle">ESP Connect Examples</td>
                <td class="icon">
                    <a class="icon" href="javascript:_api.getDialogs().pushModal('connect')">&#xf137;</a>
                </td>
            </tr>
        </table>
    </div>

    <div id="content">
        <ul class="examples">
            <li><a href="javascript:go('basic')">Basic</a> - Simple model that publishes mouse clicks into ESP.</li>
            <!--
            <li><a href="javascript:go('ballast')">Railroad Track Health</a> - Take a train trip through Australia looking for damaged tracks.</li>
            -->
            <li><a href="javascript:go('images')">Image Object Detection</a> - General image processing object detection example allowing you to process a video of your choosing.</li>
            <li><a href="javascript:go('paris')">A Trip through Paris</a> - A car trip through Paris showcasing ESP geofence windows with points of interest.</li>
            <li><a href="javascript:go('weather')">Weather</a> - Live weather data fed into an ESP model.</li>
            <li><a href="javascript:go('sailing')">Sailing</a> - Several sailboats sailing around the Firth of Forth and using geofencing to monitor activity in areas of interest.</li>
            <li><a href="javascript:go('turbine')">Wind Turbines</a> - Wind turbine data driving a custom display while processing turbine alerts.</li>
            <li><a href="javascript:go('../html/modelviewer.html')">Model Viewer</a> - Allows you to view ESP models either from a server or from a file.</li>
            <li><a href="javascript:go('../html/logviewer.html')">Log Viewer</a> - Allows you to view ESP server logs.</li>
        </ul>
    </div>

    <div id="footer">&nbsp;</div>

</body>

</html>
